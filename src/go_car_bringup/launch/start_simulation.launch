<?xml version='1.0' encoding='UTF-8'?>
<launch>
    <arg name="world_name" default="city"/>
    <arg name="details" default="quality"/>
    <arg name="car_model" default="1"/>
    <!-- manual_control_type options: keyboard, gamepad -->
    <arg name="manual_control_type" default="keyboard"/>
    <arg name="rviz_visualization" default="false"/>

    <include file="$(find go_car_gazebo)/launch/load_gazebo_simulation.launch">
        <arg name="world" value="$(arg world_name)"/>
        <arg name="details" value="$(arg details)"/>
        <arg name="car_model" value="$(arg car_model)"/>
        <arg name="rviz_visualization" value="$(arg rviz_visualization)"/>
    </include>

    <include file="$(find go_car_manual_control)/launch/manual_control.launch">
        <arg name="type" value="$(arg manual_control_type)"/>
    </include>

    <node pkg="go_car_odom" type="ground_truth_tf_publisher" name="ground_truth_tf_publisher"/>

    <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen">
        <remap from="scan" to="laser/scan"/>
        <param name="base_frame" value="base_link"/>
        <param name="odom_frame" value="odom"/>
        <param name="map_update_interval" value="0.5"/>
        <param name="maxUrange" value="250.0"/>
    </node>

    <!-- Defining parameters for move_base node -->

    <!-- <node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
    </node> -->

    <!-- <node pkg="laser_scan_matcher" type="laser_scan_matcher_node" name="laser_scan_matcher_node" output="screen">
        <remap from="scan" to="laser/scan"/>
        <remap from="imu/data" to="imu"/>
        <param name="fixed_frame" value="odom"/>
        <param name="use_imu" value="true"/>
        <param name="use_odom" value="false"/>
    </node> -->

</launch>